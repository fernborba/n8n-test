
Table discount {
  id varchar [primary key]
  name varchar
  description varchar
  num_cycles integer [note: "For subscriptions, how many cycles does the discount apply for, 0 means it will apply to all cycles"]
  rate_value integer [note: "The percentage of the discount x 1000"]
  studio_id varchar
  created_at timestamp
  updated_at timestamp
  deleted_at timestamp
}

Table promo_code {
  id varchar [primary key]
  discount_id varchar
  studio_id varchar
  code varchar
  active boolean
  usage_limit_per_user integer [note: "Number of times a user can use a promo code, 0 means unlimited uses"]
  created_at timestamp
  updated_at timestamp
  deleted_at timestamp
}

Table promo_code_usage {
  promo_code_id varchar
  invoice_id varchar
  user_id varchar
  created_at timestamp
}
